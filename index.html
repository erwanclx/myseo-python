<html>
  <head>
    <link
      rel="stylesheet"
      href="https://pyscript.net/releases/2023.11.1/core.css"
    />
    <script
      type="module"
      src="https://pyscript.net/releases/2023.11.1/core.js"
    ></script>
  </head>
  <body>
    Hello
    <script type="text/javascript" src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
    <script type="text/javascript">
        let pyodide
        async function main() {
            pyodide = await loadPyodide();
            await pyodide.loadPackage(['beautifulsoup4', "micropip"]);
            const micropip = pyodide.pyimport("micropip");
            await micropip.install('requests');
            await pyodide.runPythonAsync(`
                import requests
                from bs4 import BeautifulSoup
                url = 'https://www.google.com'
                r = requests.get(url)
                soup = BeautifulSoup(r.text, 'html.parser')
                print(soup.title)
            `);
        }
        main();
      </script>
  </body>
</html>
